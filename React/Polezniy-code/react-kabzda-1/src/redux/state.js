
let store = {
    state:{
        ProfilePage:{
            posts:[
                {id: 1, message: 'I love bebra', likes: 4 },
                {id: 2, message: 'fuck the police!', likes: 100 },
                {id: 3, message: 'oh shit, here we go again', likes: 0 },
                {id: 4, message: 'Grove Street - Home', likes: 99999 }
            ],
        newPostText:''
        },
        DialogsPage:{
            users:[
                {id: 1, name:'Big smoke'},
                {id: 2, name:'Rider'},
                {id: 3, name:'Sweet'}
            ],
            messages:[
                {id: 1, message:'I`ll take two number NIIIne, number NiiIIIineee LAAAAAARGE'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'},
                {id: 3, message:'oh no, ambulance'},
                {id: 2, message:'i`m fucking genius'}

            ],
        }
    },
    reRender() {

    },
    dispatch(action){
        if(action.type === 'ADD-POST'){
            let newPost = {
            id: 5,
            message: this.state.ProfilePage.newPostText,
            likes: 0
        }
        this.state.ProfilePage.posts.push(newPost)
        this.state.ProfilePage.newPostText = "";
        this.reRender(this.state);
        }
        else if(action.type === 'UPDATE-POST-TEXT'){
            this.state.ProfilePage.newPostText = action.newText;
            this.reRender(this.state);
        }
    },
    subscribe(observer) {
        this.reRender = observer;
    }
}
const ADD_POST = 'ADD-POST';
const UPDATE_POST_TEXT = 'UPDATE-POST-TEXT';
export const addPostActionCreator = () => ({type:ADD_POST});
export const updatePostTextActionCreator = (newText) => ({type:UPDATE_POST_TEXT,newText:newText})




window.store = store;

export default store;

